@startuml SmartContactManager_UseCase
!theme plain
skinparam backgroundColor #FFFFFF
skinparam actor {
    BackgroundColor #E8F4FD
    BorderColor #2563EB
}
skinparam usecase {
    BackgroundColor #F0F9FF
    BorderColor #0EA5E9
}
skinparam system {
    BackgroundColor #FEF3C7
    BorderColor #F59E0B
}

title Smart Contact Manager - Use Case Diagram

' Actors
actor "Guest User" as guest
actor "Regular User\n(ROLE_USER)" as user
actor "Administrator\n(ROLE_ADMIN)" as admin

' External Systems
actor "OAuth Provider\n(Google/GitHub)" as oauth
actor "Email Service" as email

' System Boundary
rectangle "Smart Contact Manager System" {
    
    ' Authentication Use Cases
    usecase "Register Account" as UC001
    usecase "Login to System" as UC002
    usecase "Verify Email" as UC003
    usecase "OAuth Login" as UC004
    
    ' User Profile Use Cases
    usecase "View Profile" as UC005
    usecase "Update Profile" as UC006
    
    ' Contact Management Use Cases
    usecase "Add Contact" as UC007
    usecase "View Contacts" as UC008
    usecase "Update Contact" as UC009
    usecase "Delete Contact" as UC010
    usecase "Search Contacts" as UC011
    usecase "Export Contacts" as UC012
    usecase "Mark as Favorite" as UC013
    
    ' Communication Use Cases
    usecase "Direct Message" as UC014
    
    ' Admin Use Cases
    usecase "View Admin Dashboard" as UC015
    usecase "View All Users" as UC016
    usecase "View User Contacts" as UC017
    usecase "Monitor Statistics" as UC018
    usecase "Manage User Accounts" as UC019
    
    ' File Management
    usecase "Upload Contact Image" as UC020
    usecase "Manage Contact Photos" as UC021
}

' Guest User relationships
guest --> UC001 : registers
guest --> UC002 : authenticates

' Regular User relationships
user --> UC002 : authenticates
user --> UC005 : views
user --> UC006 : updates
user --> UC007 : creates
user --> UC008 : views
user --> UC009 : modifies
user --> UC010 : removes
user --> UC011 : searches
user --> UC012 : exports
user --> UC013 : favorites
user --> UC014 : communicates
user --> UC020 : uploads
user --> UC021 : manages

' Administrator relationships (inherits user capabilities)
admin --> UC002 : authenticates
admin --> UC005 : views
admin --> UC006 : updates
admin --> UC007 : creates
admin --> UC008 : views
admin --> UC009 : modifies
admin --> UC010 : removes
admin --> UC011 : searches
admin --> UC012 : exports
admin --> UC013 : favorites
admin --> UC014 : communicates
admin --> UC015 : monitors
admin --> UC016 : manages
admin --> UC017 : inspects
admin --> UC018 : analyzes
admin --> UC019 : controls

' External System relationships
UC004 --> oauth : authenticates via
UC003 --> email : sends verification
UC001 --> email : sends welcome

' Include relationships
UC002 ..> UC003 : <<include>>
UC007 ..> UC020 : <<include>>
UC009 ..> UC021 : <<include>>

' Extend relationships
UC004 ..> UC002 : <<extend>>
UC013 ..> UC008 : <<extend>>

' Notes
note right of UC015 : Requires ROLE_ADMIN\npermissions
note right of UC016 : Shows user statistics\nand contact counts
note right of UC017 : Admin can view any\nuser's contacts
note left of UC001 : Creates user with\nROLE_USER by default
note left of UC019 : Future enhancement:\nenable/disable users

@enduml
